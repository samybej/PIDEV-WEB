{% extends 'back.html.twig' %}

{% block body %}
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <style type="text/css">
        .disp { color: red; }
    </style>


    <div class="box">
        <div class="box-header">
            <h1 class="box-title">Liste des véhicules</h1>
        </div><!-- /.box-header -->

        <div>
            <form class="form-group" style="padding-left: 50px;">
                <label for="filter" style="font-size: large;">Chercher une immatriculation</label>
                <input name="filter" type="text" style="height: 40px; ">
                <button type="submit" class="btn  btn-info"> Chercher</button>
            </form>
        </div>
        <div class="box-body table-responsive">
            <div id="example1_wrapper" class="dataTables_wrapper form-inline" role="grid">

                <table id="example1" class="table table-bordered table-striped dataTable" aria-describedby="example1_info">
                    <thead>
                    <tr role="row">
                        <th class="sorting_desc" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 81px;" aria-sort="descending" aria-label="Rendering engine: activate to sort column ascending">{{ knp_pagination_sortable(list, 'ID', 'bp.id') }}</th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 167px;" aria-label="Browser: activate to sort column ascending">{{ knp_pagination_sortable(list, 'Immatriculation', 'bp.immatriculation') }}</th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 110px;" aria-label="Browser: activate to sort column ascending"> {{ knp_pagination_sortable(list, 'Numéro assurance', 'bp.numeroAssurance') }}</th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 140px;" aria-label="Platform(s): activate to sort column ascending">{{ knp_pagination_sortable(list, 'Marque', 'bp.marque') }}</th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 84px;" aria-label="Engine version: activate to sort column ascending">Type</th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 98px;" aria-label="CSS grade: activate to sort column ascending">Etat</th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 78px;" aria-label="CSS grade: activate to sort column ascending">Modifier</th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" style="width: 78px;" aria-label="CSS grade: activate to sort column ascending">Supprimer</th>
                    </tr>

                    </thead>

                    <tfoot>
                    <tr>
                        <th rowspan="1" colspan="1">ID</th>
                        <th rowspan="1" colspan="1">Immatriculation</th>
                        <th rowspan="1" colspan="1">Numéro assurance</th>
                        <th rowspan="1" colspan="1">Marque</th>
                        <th rowspan="1" colspan="1">Type</th>
                        <th rowspan="1" colspan="1">Etat</th>
                        <th rowspan="1" colspan="1">Modifier</th>
                        <th rowspan="1" colspan="1">Supprimer</th>
                    </tr>
                    </tfoot>
                    <tbody role="alert" aria-live="polite" aria-relevant="all">
                    <tr class="odd">
                        {% for l in list %}
                            <tr>
                        <td class="  sorting_1">{{ l.id }}</td>
                        <td class=" ">{{ l.immatriculation }}</td>
                        <td class=" ">{{ l.numeroAssurance}}</td>
                        <td class=" ">{{ l.marque }}</td>
                        <td class=" ">{{ l.type }}</td>
                        <td class="">
                            {% if l.etat==1  %}

                                {% set resultat = "Disponible"%}
                              <div style="color: green">   {{ resultat}} </div>
                            {% else %}
                                {% set resultat= "En Garage"%}
                                <div style="color: red">   {{ resultat}} </div>
                            {% endif %}
                           </td>
                        <td class=" ">
                            <a href="{{ path("vehicule_update", {"id":l.id}) }}" class="btn btn-mini btn-info">
                                <i class="icon-edit"> </i>
                            </a>
                        </td>
                        <td class=" ">
                            <a href="{{ path("vehicule_delete", {"id":l.id}) }}" class="btn btn-mini btn-danger">
                                <i class="icon-trash"> </i>
                            </a>
                        </td>


                        {% endfor %}  </tr>
                    </tr>

                    </tbody>
                </table>
                <div class="navigation text-center" >
                    {{ knp_pagination_render(list) }}
                </div>
            </div>
        </div><!-- /.box-body -->
    </div>
{% endblock %}